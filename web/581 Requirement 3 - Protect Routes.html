<html><head><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/components/image.min.css"></head><body><div class="container"><div class="row"><div class="col-md-10 col-md-offset-1 ui image"><p class="lead"><p>In our blog, the first registered user will be the admin. They will be able to create new blog posts, edit posts and delete posts.</p><p>1. The first user's <code>id</code> is <code>1</code>. We can use this in index.html and post.html to make sure that only the admin user can see the "Create New Post" and "Edit Post" and Delete buttons.</p><p>This is what you're aiming for:</p><figure><img src="https://img-c.udemycdn.com/redactor/raw/article_lecture/2021-01-19_12-05-45-df4c0aad96213cc01b44a3ff7c59efb8.gif"></figure><p><a href="https://gist.github.com/angelabauer/223c5e4e1a2ecd0f232f18ab3471733a" rel="noopener noreferrer" target="_blank">SOLUTION</a></p><p><br></p><p>2. Just because a user can't see the buttons, they can still manually access the /edit-post or /new-post or /delete routes. Protect these routes by creating a Python decorator called <code>@admin_only</code></p><p>If the current_user's id is 1 then they can access those routes, otherwise, they should get a 403 error (not authorised).</p><p>This is what you're aiming for:</p><figure><img src="https://img-c.udemycdn.com/redactor/raw/article_lecture/2021-01-27_11-51-24-e2532f9ec8dd7e3367b34ec0f7489051.gif"></figure><p><br></p><p>HINT 1: You might need to review the lessons on Python&nbsp;Decorators on day 54.</p><p>HINT 2: See what the @login_required decorator looks like: <a href="https://flask.palletsprojects.com/en/1.1.x/patterns/viewdecorators/#login-required-decorator" rel="noopener noreferrer" target="_blank">https://flask.palletsprojects.com/en/1.1.x/patterns/viewdecorators/#login-required-decorator</a></p><p>HINT 3: The abort function is quick way to return HTTP errors like 403 or 404: <a href="https://flask.palletsprojects.com/en/1.1.x/patterns/errorpages/" rel="noopener noreferrer" target="_blank">https://flask.palletsprojects.com/en/1.1.x/patterns/errorpages/</a></p><p><br></p><p><a href="https://gist.github.com/angelabauer/36083610dcdcbe704b3c30b51e2fe414" rel="noopener noreferrer" target="_blank">SOLUTION</a></p><p><br></p></p></div></div></div></body></html>